<div *ngIf="features; else featuresIsNull" class="container">
  <div class="lbl-days">
    <span *ngFor="let day of days" class="lbl-day">ç¬¬{{ day + 1 }}å¤©</span>
  </div>
  <cdk-virtual-scroll-viewport [itemSize]="20" class="cdk-viewport">
    <div
      *cdkVirtualFor="let feature of features; let i = index"
      class="feature-container"
    >
      <span *ngIf="feature.header" class="lbl-header">{{
        feature.header
      }}</span>
      <span class="lbl-label" [matTooltip]="feature.identifier">
        {{ feature.label }}
        <span *ngIf="feature.unit" class="lbl-unit">{{ feature.unit }}</span>
      </span>
      <span
        *ngFor="let day of days"
        [ngStyle]="weights![day][i]"
        [matTooltip]="x![day][feature.id].toString()"
        [matTooltipShowDelay]="500"
        class="lbl-value"
      >
        <!-- x is guaranteed to be non-null here -->
        {{ format(x![day][feature.id]) }}
      </span>
    </div>
  </cdk-virtual-scroll-viewport>
</div>

<ng-template #featuresIsNull>No features passed!</ng-template>
